
[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/My Script/auto-ai[39m
      [2mCoverage enabled with [22m[33mv8[39m


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/My Script/auto-ai[39m
      [2mCoverage enabled with [22m[33mv8[39m

[90mstdout[2m | tests/unit/api-key-timeout-tracker.test.js
[22m[39mÎ“Â£Ã  MaxListeners increased to 50

[90mstdout[2m | tests/unit/api-key-timeout-tracker.test.js
[22m[39mÎ“Â£Ã  MaxListeners increased to 50

 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mConstructor[2m > [22mshould initialize with default options[32m 2[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mConstructor[2m > [22mshould initialize with custom options[32m 1[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould create new stats for unknown key[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould track successful request[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould track failed request[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould count timeouts when duration exceeds slowThreshold[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould not count timeout when duration is below threshold[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould calculate average duration[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould limit recent durations to 20[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould mark key as slow when avg exceeds threshold[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould mark key as problematic after failure threshold[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould handle null apiKey[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould handle empty apiKey[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould add entry to history[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mtrackRequest[2m > [22mshould limit history to 1000 entries[32m 2[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetTimeoutForKey[2m > [22mshould return defaultTimeout for unknown key[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetTimeoutForKey[2m > [22mshould return quickTimeout for problematic key[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetTimeoutForKey[2m > [22mshould return calculated timeout for slow key[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetTimeoutForKey[2m > [22mshould return defaultTimeout for healthy key[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mshouldSkipKey[2m > [22mshould return false for unknown key[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mshouldSkipKey[2m > [22mshould return false for non-problematic key[32m 1[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mshouldSkipKey[2m > [22mshould return true for problematic key with few recent requests[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mshouldSkipKey[2m > [22mshould return false for problematic key with enough recent requests[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetKeyStats[2m > [22mshould return null for unknown key[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetKeyStats[2m > [22mshould return stats for known key[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetAllStats[2m > [22mshould return empty object when no keys tracked[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetAllStats[2m > [22mshould return stats for all tracked keys[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetAllStats[2m > [22mshould format avgDuration as string with ms[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetSlowKeys[2m > [22mshould return empty array when no slow keys[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetSlowKeys[2m > [22mshould return slow keys sorted by avgDuration[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetProblematicKeys[2m > [22mshould return empty array when no problematic keys[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetProblematicKeys[2m > [22mshould return problematic keys with failure count[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetHistory[2m > [22mshould return default 50 entries[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetHistory[2m > [22mshould respect custom limit[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetHistory[2m > [22mshould return entries in reverse chronological order[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mreset[2m > [22mshould reset specific key stats[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mreset[2m > [22mshould reset all stats when no key provided[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mreset[2m > [22mshould handle reset for unknown key gracefully[32m 1[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetStats[2m > [22mshould return aggregate statistics[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mgetStats[2m > [22mshould return zeros for empty tracker[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mEdge Cases[2m > [22mshould handle very short apiKey[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mEdge Cases[2m > [22mshould handle apiKey shorter than 8 characters[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mEdge Cases[2m > [22mshould handle negative duration[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mEdge Cases[2m > [22mshould handle zero duration[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js[2m > [22mutils/api-key-timeout-tracker[2m > [22mEdge Cases[2m > [22mshould handle custom thresholds[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/api-key-timeout-tracker.test.js [2m([22m[2m45 tests[22m[2m)[22m[32m 16[2mms[22m[39m

[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m45 passed[39m[22m[90m (45)[39m
[2m   Start at [22m 05:51:21
[2m   Duration [22m 1.83s[2m (transform 76ms, setup 21ms, import 89ms, tests 16ms, environment 0ms)[22m


[2m Test Files [22m [1m[32m1 passed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[32m45 passed[39m[22m[90m (45)[39m
[2m   Start at [22m 05:51:21
[2m   Duration [22m 1.83s[2m (transform 76ms, setup 21ms, import 89ms, tests 16ms, environment 0ms)[22m

[34m % [39m[2mCoverage report from [22m[33mv8[39m
-------------------|---------|----------|---------|---------|-------------------
File               | % Stmts | % Branch | % Funcs | % Lines | Uncovered Line #s 
-------------------|---------|----------|---------|---------|-------------------
All files          |    0.56 |     0.54 |    0.86 |    0.56 |                   
 core              |       0 |        0 |       0 |       0 |                   
  ...-connector.js |       0 |        0 |       0 |       0 | 15-577            
  agent-cortex.js  |       0 |        0 |       0 |       0 | 12-409            
  ...t-verifier.js |       0 |        0 |       0 |       0 | 9-325             
  automator.js     |       0 |        0 |       0 |       0 | 11-516            
  ...it-breaker.js |       0 |        0 |       0 |       0 | 8-266             
  cloud-client.js  |       0 |        0 |       0 |       0 | 14-784            
  discovery.js     |       0 |        0 |       0 |       0 | 11-137            
  ...th-monitor.js |       0 |        0 |       0 |       0 | 5-113             
  ...-compactor.js |       0 |        0 |       0 |       0 | 9-250             
  ...zer-engine.js |       0 |        0 |       0 |       0 | 9-264             
  idle-ghosting.js |       0 |        0 |       0 |       0 | 9-185             
  ...classifier.js |       0 |        0 |       0 |       0 | 9-225             
  local-client.js  |       0 |        0 |       0 |       0 | 12-197            
  log-capture.js   |       0 |        0 |       0 |       0 | 5-78              
  ollama-client.js |       0 |        0 |       0 |       0 | 12-714            
  orchestrator.js  |       0 |        0 |       0 |       0 | 16-708            
  ...pt-builder.js |       0 |        0 |       0 |       0 | 13-106            
  request-queue.js |       0 |        0 |       0 |       0 | 9-263             
  ...tic-parser.js |       0 |        0 |       0 |       0 | 9-320             
  ...ionManager.js |       0 |        0 |       0 |       0 | 13-892            
  state-manager.js |       0 |        0 |       0 |       0 | 9-186             
  ...k-detector.js |       0 |        0 |       0 |       0 | 10-59             
  ...nterpreter.js |       0 |        0 |       0 |       0 | 9-141             
  ...n-packager.js |       0 |        0 |       0 |       0 | 11-277            
  vllm-client.js   |       0 |        0 |       0 |       0 | 10-215            
 core/vision       |       0 |        0 |       0 |       0 |                   
  image-storage.js |       0 |        0 |       0 |       0 | 11-59             
  roi-detector.js  |       0 |        0 |       0 |       0 | 13-32             
 utils             |    0.82 |     0.78 |     1.3 |    0.83 |                   
  ...chestrator.js |       0 |        0 |       0 |       0 | 10-156            
  ...ext-engine.js |       0 |        0 |       0 |       0 | 11-897            
  ...ote-engine.js |       0 |        0 |       0 |       0 | 15-1539           
  ...ply-engine.js |       0 |        0 |       0 |       0 | 21-2402           
  ai-tools.js      |       0 |        0 |       0 |       0 | 12-292            
  ...itterAgent.js |       0 |        0 |       0 |       0 | 37-3017           
  ...ut-tracker.js |   97.72 |    97.87 |      95 |     100 | 197               
  apiHandler.js    |       0 |        0 |       0 |       0 | 16-102            
  async-queue.js   |       0 |        0 |       0 |       0 | 12-491            
  banner.js        |       0 |      100 |       0 |       0 | 7-30              
  browserPatch.js  |       0 |        0 |       0 |       0 | 12-73             
  ...it-breaker.js |       0 |        0 |       0 |       0 | 9-147             
  config-cache.js  |       0 |        0 |       0 |       0 | 9-264             
  ...ig-manager.js |       0 |        0 |       0 |       0 | 16-541            
  ...ig-service.js |       0 |        0 |       0 |       0 | 19-434            
  ...-validator.js |       0 |        0 |       0 |       0 | 9-385             
  configLoader.js  |       0 |        0 |       0 |       0 | 11-184            
  content-depth.js |       0 |        0 |       0 |       0 | 12-283            
  dockerLLM.js     |       0 |        0 |       0 |       0 | 13-111            
  ...ent-limits.js |       0 |        0 |       0 |       0 | 9-213             
  ...Controller.js |       0 |        0 |       0 |       0 | 19-453            
  envLoader.js     |       0 |        0 |       0 |       0 | 13-145            
  ...ent-config.js |       0 |        0 |       0 |       0 | 9-312             
  errors.js        |       0 |        0 |       0 |       0 | 19-202            
  ...api-router.js |       0 |        0 |       0 |       0 | 20-734            
  ...ter-helper.js |       0 |        0 |       0 |       0 | 10-350            
  ...bugProfile.js |       0 |      100 |       0 |       0 | 5-94              
  ...teProfiles.js |       0 |        0 |       0 |       0 | 6-232             
  ghostCursor.js   |       0 |        0 |       0 |       0 | 10-521            
  ...controller.js |       0 |        0 |       0 |       0 | 11-217            
  ...nteraction.js |       0 |        0 |       0 |       0 | 12-850            
  human-timing.js  |       0 |        0 |       0 |       0 | 9-125             
  ...ma-manager.js |       0 |        0 |       0 |       0 | 11-230            
  logger.js        |       0 |        0 |       0 |       0 | 11-550            
  ...ing-config.js |       0 |        0 |       0 |       0 | 8-133             
  mathUtils.js     |       0 |        0 |       0 |       0 | 5-34              
  metrics.js       |       0 |        0 |       0 |       0 | 8-613             
  ...teractions.js |       0 |        0 |       0 |       0 | 12-230            
  ...ake-engine.js |       0 |        0 |       0 |       0 | 11-220            
  ...rf-tracker.js |       0 |        0 |       0 |       0 | 9-257             
  motor-control.js |       0 |        0 |       0 |       0 | 14-550            
  multi-api.js     |       0 |        0 |       0 |       0 | 8-176             
  ...-diversity.js |       0 |        0 |       0 |       0 | 11-240            
  pageZoom.js      |       0 |        0 |       0 |       0 | 10-138            
  popup-closer.js  |       0 |        0 |       0 |       0 | 5-75              
  probe_llm.js     |       0 |        0 |       0 |       0 | 5-58              
  ...ileManager.js |       0 |        0 |       0 |       0 | 6-192             
  proxy-agent.js   |       0 |        0 |       0 |       0 | 9-69              
  ...mScrolling.js |       0 |        0 |       0 |       0 | 10-104            
  randomZoom.js    |       0 |        0 |       0 |       0 | 9-99              
  ...it-tracker.js |       0 |        0 |       0 |       0 | 9-180             
  ...est-dedupe.js |       0 |        0 |       0 |       0 | 9-153             
  retry.js         |       0 |        0 |       0 |       0 | 8-52              
  screenshot.js    |       0 |        0 |       0 |       0 | 11-52             
  scroll-helper.js |       0 |        0 |       0 |       0 | 24-91             
  ...-humanizer.js |       0 |        0 |       0 |       0 | 11-192            
  ...yzer-multi.js |       0 |        0 |       0 |       0 | 18-374            
  ...-analyzers.js |       0 |        0 |       0 |       0 | 17-453            
  ...iment-data.js |       0 |        0 |       0 |       0 | 10-716            
  ...ion-engine.js |       0 |        0 |       0 |       0 | 10-415            
  ...ment-guard.js |       0 |        0 |       0 |       0 | 9-177             
  ...ntegration.js |       0 |        0 |       0 |       0 | 12-265            
  ...nt-service.js |       0 |        0 |       0 |       0 | 30-410            
  ...ion-phases.js |       0 |        0 |       0 |       0 | 9-110             
  ...fig-loader.js |       0 |        0 |       0 |       0 | 14-313            
  ...-awareness.js |       0 |        0 |       0 |       0 | 11-229            
  ...on-methods.js |       0 |        0 |       0 |       0 | 10-647            
  ...ply-prompt.js |       0 |        0 |       0 |       0 | 7-423             
  twitterAgent.js  |       0 |        0 |       0 |       0 | 16-1793           
  ...CloseMedia.js |       0 |        0 |       0 |       0 | 11-208            
  urlReferrer.js   |       0 |        0 |       0 |       0 | 20-587            
  ...rGenerator.js |       0 |        0 |       0 |       0 | 11-213            
  utils.js         |       0 |        0 |       0 |       0 |                   
  validator.js     |       0 |        0 |       0 |       0 | 9-250             
 utils/actions     |       0 |        0 |       0 |       0 |                   
  ...r-bookmark.js |       0 |        0 |       0 |       0 | 11-130            
  ...er-go-home.js |       0 |        0 |       0 |       0 | 11-114            
  ...itter-like.js |       0 |        0 |       0 |       0 | 11-130            
  ...tter-quote.js |       0 |        0 |       0 |       0 | 11-189            
  ...tter-reply.js |       0 |        0 |       0 |       0 | 11-185            
  ...er-retweet.js |       0 |        0 |       0 |       0 | 11-273            
  index.js         |       0 |        0 |       0 |       0 | 22-210            
 ...s/humanization |       0 |        0 |       0 |       0 |                   
  action.js        |       0 |        0 |       0 |       0 | 19-260            
  content.js       |       0 |        0 |       0 |       0 | 18-217            
  engine.js        |       0 |        0 |       0 |       0 | 26-250            
  error.js         |       0 |        0 |       0 |       0 | 18-328            
  index.js         |       0 |        0 |       0 |       0 |                   
  multitask.js     |       0 |        0 |       0 |       0 | 18-204            
  scroll.js        |       0 |        0 |       0 |       0 | 19-185            
  session.js       |       0 |        0 |       0 |       0 | 18-263            
  timing.js        |       0 |        0 |       0 |       0 | 17-270            
 .../twitter-agent |       0 |        0 |       0 |       0 |                   
  BaseHandler.js   |       0 |        0 |       0 |       0 | 6-491             
  ...entHandler.js |       0 |        0 |       0 |       0 | 5-491             
  ...ionHandler.js |       0 |      100 |       0 |       0 | 5                 
  ...ionHandler.js |       0 |        0 |       0 |       0 | 6-238             
  ...ionHandler.js |       0 |        0 |       0 |       0 | 7-433             
-------------------|---------|----------|---------|---------|-------------------
ERROR: Coverage for lines (0.56%) does not meet global threshold (10.17%)
ERROR: Coverage for functions (0.86%) does not meet global threshold (83.16%)
ERROR: Coverage for statements (0.56%) does not meet global threshold (84.18%)
ERROR: Coverage for branches (0.54%) does not meet global threshold (78.25%)
