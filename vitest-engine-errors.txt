
 RUN  v4.0.18 C:/My Script/auto-ai

 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > skips when probability roll fails 56ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > skips negative content before safety filters 1ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > skips high risk conversations 1ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > skips when safety filters fail 1ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > skips when validation fails 1ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > returns reply when generation and validation succeed 1ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > applies safety filters for empty and excluded text 1ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > applies safety filters for caps, emojis, and length 1ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > normalizes reply text 1ms
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > detects reply language and advanced validation 11ms
   Î“Ã¥Ã† expected 'en' to be 'Spanish' // Object.is equality
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > updates config and resets stats 1ms
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > generates reply and extracts from response 2ms
   Î“Ã¥Ã† expected 'That\'s a good take' to contain 'Great point'
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > returns failure when no reply extracted 2ms
   Î“Ã¥Ã† expected true to be false // Object.is equality
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > skips when AI generation fails 1ms
   Î“Ã¥Ã† expected undefined to be 'none' // Object.is equality
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > returns random fallback actions based on roll 1ms
   Î“Ã¥Ã† expected undefined to be 'none' // Object.is equality
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > generates quick fallback replies by pattern 1ms
   Î“Ã¥Ã† expected 'Great point!' to be 'Honestly still figuring that out myseÎ“Ã‡Âª' // Object.is equality
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > returns advanced validation failures for generic template and mentions 3ms
   Î“Ã¥Ã† expected true to be false // Object.is equality
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > builds enhanced prompt with guidance and replies 1ms
   Î“Ã¥Ã† the given combination of arguments (undefined and string) is invalid for this assertion. You can use an array, a map, an object, a set, a string, or a weakset instead of a string
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > provides sentiment and length guidance 1ms
   Î“Ã¥Ã† expected 'Acknowledges the sarcasm with wit' to contain 'ironic'
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > captures context with extracted replies 1ms
   Î“Ã¥Ã† expected +0 to be 1 // Object.is equality
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > extracts replies using multiple strategies 1ms
   Î“Ã¥Ã† expected 0 to be greater than 0
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > extracts reply and author from article 1ms
   Î“Ã¥Ã† Cannot read properties of null (reading 'author')
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > retries operations with adaptive retry 1ms
   Î“Ã¥Ã† expected false to be true // Object.is equality
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > returns fallback on adaptive retry failure 1ms
   Î“Ã¥Ã† boom
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > executes reply and falls back on failure 1511ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > runs reply method A (Keyboard) successfully 2308ms
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > runs reply method B (Button) successfully 3ms
   Î“Ã¥Ã† expected "vi.fn()" to be called 1 times, but got 0 times
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > runs reply method C (Tab) successfully 2ms
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > runs reply method D (Right-Click) successfully 3ms
   Î“Ã¥Ã† tweetEl.click is not a function
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > runs reply method D when composer not open after right-click 1ms
   Î“Ã¥Ã† tweetEl.click is not a function
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > runs reply method D with context menu open 1ms
   Î“Ã¥Ã† tweetEl.click is not a function
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > runs reply method D when button not found 1ms
   Î“Ã¥Ã† tweetEl.click is not a function
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > returns to main tweet after extracting replies 1ms
   Î“Ã¥Ã† expected "vi.fn()" to be called with arguments: [ 'Home' ][90m

Number of calls: [1m0[22m
[39m
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > extracts author from element using ancestor article 1ms
   Î“Ã¥Ã† expected 'unknown' to be 'username' // Object.is equality
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > extracts author from element using mention fallback 1ms
   Î“Ã¥Ã† expected 'unknown' to be 'testuser' // Object.is equality
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > extracts author returns unknown on error 0ms
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > intercepts EVM address in reply 1ms
   Î“Ã¥Ã† result.startsWith is not a function
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > intercepts address returns original when no match 1ms
   Î“Ã¥Ã† expected false to be 'Hello world' // Object.is equality
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > extracts replies from page elements 1ms
   Î“Ã¥Ã† expected 0 to be greater than 0
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > handles replyMethodD with no btnResult element 1ms
   Î“Ã¥Ã† tweetEl.click is not a function
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > captures context with empty replies 1ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > shouldQuote skips negative content 0ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > shouldQuote returns skip on high risk 0ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > extracts reply when both selectors fail 0ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > cleans emojis from text 1ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > extracts reply from JSON array format 0ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > extracts reply from plain text 0ms
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > extracts reply with code block markers 1ms
   Î“Ã¥Ã† expected '{"reply":"test"}' to be 'test' // Object.is equality
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > extracts reply with prefix 0ms
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > covers fallback click when btnPos is null 2ms
   Î“Ã¥Ã† tweetEl.click is not a function
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > generateReply returns failure when sentiment is negative 1ms
   Î“Ã¥Ã† expected true to be false // Object.is equality
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > updates config with new values 0ms
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > validates reply with empty string 0ms
 â”œÃ¹ tests/unit/ai-reply-engine.test.js > ai-reply-engine > validates reply with excessive mentions 1ms
   Î“Ã¥Ã† expected true to be false // Object.is equality
 Î“Â£Ã´ tests/unit/ai-reply-engine.test.js > ai-reply-engine > normalizes reply with extra whitespace 0ms

 Test Files  1 failed (1)
      Tests  30 failed | 25 passed (55)
   Start at  06:01:18
   Duration  4.23s (transform 145ms, setup 22ms, import 104ms, tests 3.94s, environment 0ms)

