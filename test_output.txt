
[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/My Script/auto-ai[39m
      [2mCoverage enabled with [22m[33mv8[39m


[1m[46m RUN [49m[22m [36mv4.0.18 [39m[90mC:/My Script/auto-ai[39m
      [2mCoverage enabled with [22m[33mv8[39m

 [32mÎ“Â£Ã´[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mConstructor[2m > [22mshould initialize with defaults[32m 5[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mexecute[2m > [22mshould execute successful function[32m 1[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mexecute[2m > [22mshould record failures and trip to OPEN after minSamples[32m 3[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mexecute[2m > [22mshould reject calls while OPEN[32m 1[2mms[22m[39m
 [31mâ”œÃ¹[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mexecute[2m > [22mshould transition to HALF_OPEN after timeout[32m 10[2mms[22m[39m
[31m   Î“Ã¥Ã† expected 'OPEN' to be 'HALF_OPEN' // Object.is equality[39m
 [31mâ”œÃ¹[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mexecute[2m > [22mshould close after successThreshold in HALF_OPEN[32m 1[2mms[22m[39m
[31m   Î“Ã¥Ã† expected 'OPEN' to be 'HALF_OPEN' // Object.is equality[39m
 [32mÎ“Â£Ã´[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mexecute[2m > [22mshould trip back to OPEN if failure occurs in HALF_OPEN[32m 1[2mms[22m[39m
 [31mâ”œÃ¹[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mMonitoring Window & History[2m > [22mshould cleanup history old entries[32m 1[2mms[22m[39m
[31m   Î“Ã¥Ã† expected undefined to be 1 // Object.is equality[39m
 [32mÎ“Â£Ã´[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mMonitoring Window & History[2m > [22mshould cap history at 100 entries[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mHealth & Status[2m > [22mshould return health for unknown model[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mHealth & Status[2m > [22mshould return all status[32m 1[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mManual Control[2m > [22mshould reset specific breaker[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mManual Control[2m > [22mshould reset all breakers[32m 0[2mms[22m[39m
 [32mÎ“Â£Ã´[39m tests/unit/circuit-breaker.test.js[2m > [22mcore/circuit-breaker[2m > [22mManual Control[2m > [22mshould force close breaker[32m 0[2mms[22m[39m
 [31mÎ“Â¥Â»[39m tests/unit/circuit-breaker.test.js [2m([22m[2m14 tests[22m[2m | [22m[31m3 failed[39m[2m)[22m[32m 28[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should initialize with defaults[32m 5[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should execute successful function[32m 1[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should record failures and trip to OPEN after minSamples[32m 3[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should reject calls while OPEN[32m 1[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m should transition to HALF_OPEN after timeout[39m[32m 10[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m should close after successThreshold in HALF_OPEN[39m[32m 1[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should trip back to OPEN if failure occurs in HALF_OPEN[32m 1[2mms[22m[39m
[31m       [31mâ”œÃ¹[31m should cleanup history old entries[39m[32m 1[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should cap history at 100 entries[32m 0[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should return health for unknown model[32m 0[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should return all status[32m 1[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should reset specific breaker[32m 0[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should reset all breakers[32m 0[2mms[22m[39m
       [32mÎ“Â£Ã´[39m should force close breaker[32m 0[2mms[22m[39m

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 3 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  tests/unit/circuit-breaker.test.js > core/circuit-breaker > execute > should transition to HALF_OPEN after timeout
AssertionError: expected 'OPEN' to be 'HALF_OPEN' // Object.is equality

Expected: "HALF_OPEN"
Received: "OPEN"

 Î“Â¥Â» tests/unit/circuit-breaker.test.js:96:52
     94| 
     95|             expect(result).toBe('ok');
     96|             expect(breaker.getHealth('m1').status).toBe('HALF_OPEN');
       |                                                    ^
     97|         });
     98| 

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/3]Î“Ã„Â»

 FAIL  tests/unit/circuit-breaker.test.js > core/circuit-breaker > execute > should close after successThreshold in HALF_OPEN
AssertionError: expected 'OPEN' to be 'HALF_OPEN' // Object.is equality

Expected: "HALF_OPEN"
Received: "OPEN"

 Î“Â¥Â» tests/unit/circuit-breaker.test.js:106:52
    104|             // First success in HALF_OPEN
    105|             await breaker.execute('m1', async () => 'ok');
    106|             expect(breaker.getHealth('m1').status).toBe('HALF_OPEN');
       |                                                    ^
    107| 
    108|             // Second success in HALF_OPEN

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[2/3]Î“Ã„Â»

 FAIL  tests/unit/circuit-breaker.test.js > core/circuit-breaker > Monitoring Window & History > should cleanup history old entries
AssertionError: expected undefined to be 1 // Object.is equality

- Expected: 
1

+ Received: 
undefined

 Î“Â¥Â» tests/unit/circuit-breaker.test.js:133:36
    131|             // History might have 2 if cleanup happens before push or Î“Ã‡Âª
    132|             const health = breaker.getHealth('m1');
    133|             expect(health.samples).toBe(1);
       |                                    ^
    134|         });
    135| 

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[3/3]Î“Ã„Â»


[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m11 passed[39m[22m[90m (14)[39m
[2m   Start at [22m 16:58:55
[2m   Duration [22m 1.87s[2m (transform 83ms, setup 0ms, import 175ms, tests 28ms, environment 0ms)[22m


Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â» Failed Tests 3 Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»

 FAIL  tests/unit/circuit-breaker.test.js > core/circuit-breaker > execute > should transition to HALF_OPEN after timeout
AssertionError: expected 'OPEN' to be 'HALF_OPEN' // Object.is equality

Expected: "HALF_OPEN"
Received: "OPEN"

 Î“Â¥Â» tests/unit/circuit-breaker.test.js:96:52
     94| 
     95|             expect(result).toBe('ok');
     96|             expect(breaker.getHealth('m1').status).toBe('HALF_OPEN');
       |                                                    ^
     97|         });
     98| 

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[1/3]Î“Ã„Â»

 FAIL  tests/unit/circuit-breaker.test.js > core/circuit-breaker > execute > should close after successThreshold in HALF_OPEN
AssertionError: expected 'OPEN' to be 'HALF_OPEN' // Object.is equality

Expected: "HALF_OPEN"
Received: "OPEN"

 Î“Â¥Â» tests/unit/circuit-breaker.test.js:106:52
    104|             // First success in HALF_OPEN
    105|             await breaker.execute('m1', async () => 'ok');
    106|             expect(breaker.getHealth('m1').status).toBe('HALF_OPEN');
       |                                                    ^
    107| 
    108|             // Second success in HALF_OPEN

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[2/3]Î“Ã„Â»

 FAIL  tests/unit/circuit-breaker.test.js > core/circuit-breaker > Monitoring Window & History > should cleanup history old entries
AssertionError: expected undefined to be 1 // Object.is equality

- Expected: 
1

+ Received: 
undefined

 Î“Â¥Â» tests/unit/circuit-breaker.test.js:133:36

    131|             // History might have 2 if cleanup happens before push or Î“Ã‡Âª
    132|             const health = breaker.getHealth('m1');
    133|             expect(health.samples).toBe(1);
       |                                    ^
    134|         });
    135| 

Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»Î“Ã„Â»[3/3]Î“Ã„Â»

[2m Test Files [22m [1m[31m1 failed[39m[22m[90m (1)[39m
[2m      Tests [22m [1m[31m3 failed[39m[22m[2m | [22m[1m[32m11 passed[39m[22m[90m (14)[39m
[2m   Start at [22m 16:58:55
[2m   Duration [22m 1.88s[2m (transform 83ms, setup 0ms, import 175ms, tests 28ms, environment 0ms)[22m

